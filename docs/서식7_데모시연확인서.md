# [서식7] 데모 시연 확인서

## 1. 시연 시스템 접속 정보

| 항목 | 내용 |
|------|------|
| **시연 URL (Frontend)** | https://[RunPod-Pod-ID]-5173.proxy.runpod.net |
| **시연 URL (Backend API)** | https://[RunPod-Pod-ID]-8000.proxy.runpod.net |
| **헬스체크 URL** | https://[RunPod-Pod-ID]-8000.proxy.runpod.net/health |
| **시연 환경** | RunPod A40 Community Cloud (GPU 48GB VRAM) |
| **접속 브라우저** | Chrome, Edge, Safari (최신 버전) |

> **참고:** RunPod Pod 생성 후 실제 URL이 확정되면 위 [RunPod-Pod-ID]를 교체합니다.

### 시연 계정

| 역할 | ID | PW | 권한 범위 |
|------|-----|-----|----------|
| 관리자 | admin | admin123 | 전체 기능 (시스템 설정, 프롬프트 관리, 모델 관리, 사용자 관리) |
| 매니저 | manager | manager123 | 문서 관리, 품질 관리, 통계 조회, 골든 데이터 편집 |
| 일반 사용자 | user | user123 | 채팅, 문서 검색, 피드백, 북마크, 개인 지식공간 |
| 열람자 | viewer | viewer123 | 채팅, 문서 검색 (읽기 전용) |

> 최초 로그인 후 비밀번호 변경 필요 (대문자 1자+, 숫자 1자+, 특수문자 1자+, 8자 이상)

---

## 2. LLM 모델 규격

### 2.1 듀얼 모델 라우팅 구성

| 구분 | 시연 환경 (POC) | 운영 환경 (목표) |
|------|----------------|-----------------|
| **메인 모델 (복잡 질의)** | Qwen2.5-14B-Instruct | Qwen2.5-72B-Instruct |
| **경량 모델 (단순 질의)** | Qwen2.5-7B-Instruct | Qwen2.5-32B-Instruct |
| **LLM 서빙 엔진** | Ollama | vLLM (Continuous Batching, Paged Attention) |
| **라우팅 방식** | QueryRouter 자동 분류 (5개 카테고리) | 동일 |
| **GPU** | NVIDIA A40 48GB x1 | NVIDIA H200 NVL 141GB x4 |

### 2.2 모델 상세 스펙

| 항목 | 값 |
|------|-----|
| **모델 개발사** | Alibaba Cloud (Qwen Team) |
| **라이선스** | Apache 2.0 (상용 무료) |
| **한국어 지원** | 네이티브 (104개 언어 학습) |
| **컨텍스트 윈도우** | 128K tokens |
| **추론 Temperature** | 0.2 (최적화 완료) |
| **Max Output Tokens** | 1,024 |

### 2.3 LLM 프로바이더 추상화

| 프로바이더 | 용도 | 전환 방식 |
|-----------|------|----------|
| Ollama | 개발/시연 (로컬 GPU) | `DEFAULT_LLM_PROVIDER=ollama` |
| vLLM | 운영 (고성능 서빙) | `DEFAULT_LLM_PROVIDER=vllm` |
| OpenAI | 폴백/비교 테스트 | `DEFAULT_LLM_PROVIDER=openai` |
| Anthropic | 폴백/비교 테스트 | `DEFAULT_LLM_PROVIDER=anthropic` |

> 환경 변수 1개 변경으로 프로바이더 즉시 전환 가능 (코드 수정 불필요)

---

## 3. RAG 파이프라인 규격

### 3.1 임베딩 모델

| 항목 | 값 |
|------|-----|
| **모델** | BAAI/bge-m3 |
| **차원** | 1,024 |
| **라이선스** | MIT (상용 무료) |
| **한국어 성능** | 다국어 모델 중 최상위 (MTEB 한국어 벤치마크) |
| **배치 처리** | Semaphore(5) 병렬 인제스트 |

### 3.2 벡터 DB

| 구분 | 시연 환경 | 운영 환경 |
|------|----------|----------|
| **엔진** | ChromaDB | Milvus |
| **인덱스** | HNSW | IVF_FLAT |
| **거리 메트릭** | Cosine | Cosine |
| **현재 청크 수** | 39,739개 (5개 데이터셋) | 확장 예정 |

### 3.3 검색 파이프라인

| 단계 | 기술 | 설정 |
|------|------|------|
| **1. 쿼리 전처리** | 오타 교정, 용어 매핑 | 자동 |
| **2. 하이브리드 검색** | Vector (70%) + BM25 (30%) | top_k=20 |
| **3. 리랭킹** | FlashRank (ms-marco-MultiBERT-L-12) | top_n=5 |
| **4. 신뢰도 평가** | 3단계 (High>0.8, Medium>0.5, Low<0.5) | 자동 |
| **5. 안전 필터링** | 저신뢰 시 한국어 안전 메시지 | 자동 |

### 3.4 고급 RAG 기법

| 기법 | 설명 | 상태 |
|------|------|------|
| Self-RAG | 자기반성적 RAG, 환각 탐지 및 자동 재생성 | 활성화 |
| Multi-Query | 다중 관점 쿼리 생성 (3개 대안 질의) | 선택 활성화 |
| Agentic RAG | 질의 복잡도별 동적 전략 라우팅 | 선택 활성화 |
| HyDE | 가설 문서 임베딩 기반 쿼리 확장 | 선택 활성화 |
| Query Corrector | 오타/맞춤법 자동 교정 | 활성화 |

### 3.5 환각 방지 다층 방어

| 계층 | 기술 | 설명 |
|------|------|------|
| 1층 | Grounded Prompting | 검색된 문서 근거 기반 답변만 허용 |
| 2층 | Self-RAG | 답변의 문서 근거 자동 검증, 미충족 시 재생성 |
| 3층 | Confidence Score | 3단계 신뢰도 평가, 저신뢰 시 안전 메시지 |
| 4층 | Source Citation | 출처 문서 원문 병행 표시 |

---

## 4. 문서 처리 규격

### 4.1 지원 포맷

| 포맷 | 로더 | 비고 |
|------|------|------|
| PDF | PyMuPDF + Upstage Document Parse (OCR) | 스캔 문서 자동 감지 |
| HWP | pyhwp | 한국 공공기관 핵심 포맷 |
| DOCX | python-docx | 표/이미지 추출 포함 |
| XLSX | openpyxl | 시트별 처리 |
| PPTX | python-pptx | 슬라이드별 텍스트 추출 |
| TXT | 기본 로더 | UTF-8 인코딩 |

### 4.2 청킹 전략

| 항목 | 값 |
|------|-----|
| **전략** | RecursiveCharacterTextSplitter |
| **청크 크기** | 800자 |
| **오버랩** | 80자 |
| **메타데이터** | 파일명, 페이지, source_type, 인제스트 시각 |

### 4.3 OCR (Upstage Document Parse)

| 항목 | 시연 환경 | 운영 환경 |
|------|----------|----------|
| **프로바이더** | Cloud API | On-Premise (Docker) |
| **지원 포맷** | 스캔 PDF, 도면, 이미지 | 동일 |
| **특장점** | 한국어 HWP/PDF 특화, 표/도면 구조 인식 | 동일 + 폐쇄망 배포 |

---

## 5. 시연 데이터 현황

| 데이터셋 | 파일 수 | 청크 수 | 벤치마크 결과 |
|---------|--------|--------|-------------|
| 한국가스공사법 | PDF + 관련법 | 28 (법률) + 89 (정관) | **100%** (50/50) |
| 내부규정 | 676 HWP | 19,035 | **98.3%** (59/60) |
| 인쇄홍보물 | 7 PDF | 1,012 | **100%** (20/20) |
| ALIO 공시 | 403 files | 19,274 | **100%** (20/20) |
| 국외출장 보고서 | 100 files | 301 | 80% (16/20) |
| **합계** | **~1,186 파일** | **39,739 청크** | **95.8% (115/120)** |

---

## 6. 주요 시연 기능

| # | 기능 | 시연 포인트 |
|---|------|-----------|
| 1 | **RAG 기반 질의응답** | SSE 스트리밍, 출처 표시, 신뢰도 점수 |
| 2 | **듀얼 모델 라우팅** | 질의 복잡도에 따라 Main/Light 모델 자동 선택 |
| 3 | **멀티 응답 비교** | 동일 질문에 대해 두 모델 응답 동시 비교 |
| 4 | **HITL 3단계 피드백** | 정확/부분정확/부정확 평가 + 골든 데이터 편집 |
| 5 | **북마크** | 중요 응답 저장 및 관리 |
| 6 | **AI Agent** | 보고서 초안 작성, 교육자료 생성, 규정 검토 등 6개 시나리오 |
| 7 | **문서 업로드/인제스트** | 실시간 문서 추가 + 벡터DB 자동 적재 |
| 8 | **관리자 포털** | 시스템 모니터링, 프롬프트 관리, 모델 레지스트리 |
| 9 | **가드레일** | 프롬프트 인젝션 탐지, PII 마스킹, 입출력 필터링 |
| 10 | **대화 관리** | 세션 기록, 대화 복사, 메시지 편집 재전송 |

---

## 7. 시스템 아키텍처 요약

```
┌─────────────────────────────────────────────────────┐
│  사용자 (Chrome/Edge 브라우저)                          │
└──────────────────┬──────────────────────────────────┘
                   │ HTTPS
┌──────────────────▼──────────────────────────────────┐
│  Frontend: React 18 + TypeScript + MUI              │
│  (Vite, Port 5173)                                  │
└──────────────────┬──────────────────────────────────┘
                   │ REST API + SSE
┌──────────────────▼──────────────────────────────────┐
│  Backend: FastAPI (Python 3.10+, Port 8000)         │
│  ┌──────────┬──────────┬──────────┬──────────┐      │
│  │ Auth     │ RAG      │ Agent    │ Pipeline │      │
│  │ JWT+RBAC │ Chain    │ MCP      │ Ingest   │      │
│  │ 4 Roles  │ Retriever│ 10 Tools │ Loaders  │      │
│  └──────────┴──────────┴──────────┴──────────┘      │
└──┬──────────┬──────────┬──────────┬─────────────────┘
   │          │          │          │
   ▼          ▼          ▼          ▼
┌──────┐ ┌──────┐ ┌──────────┐ ┌──────────┐
│Ollama│ │Chroma│ │ BGE-M3   │ │ Upstage  │
│LLM   │ │VecDB │ │ Embedding│ │ OCR      │
│7B/14B│ │39,739│ │ 1024 dim │ │ Doc Parse│
└──────┘ └──────┘ └──────────┘ └──────────┘
```

---

## 8. 비기능 요구사항

| 항목 | 시연 환경 | 운영 목표 |
|------|----------|----------|
| **TTFT (첫 토큰)** | ~3~5초 (14B) | <3초 (72B + vLLM) |
| **동시 접속자** | 5~10명 | 100명+ |
| **가용성** | 시연 시간 중 100% | 99.5% |
| **보안** | JWT + RBAC (4 Roles) | + SSO/LDAP + 폐쇄망 |
| **데이터 보안** | 로컬 처리 (외부 전송 없음) | 동일 + PII 마스킹 |

---

**작성일:** 2026년 2월 27일
**작성자:** ㈜인사이트마이닝
**프로젝트:** 한국가스기술공사 생성형 AI 플랫폼 구축 사업
